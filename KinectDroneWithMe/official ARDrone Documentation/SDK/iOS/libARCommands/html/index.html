<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>libARCommands: libARCommands Documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libARCommands
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">libARCommands Documentation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="ARC_intro_sec"></a>
Introduction</h1>
<p>The ARCommands library provides a way to encode/decode a variety of commands</p>
<h1><a class="anchor" id="ARC_gen_sec"></a>
Generate encoded commands</h1>
<p>To encode a command, the application must provide a buffer with sufficient free space, and the correct arguments.</p>
<p>All generator function use the following name/args scheme:</p>
<p>ARCOMMANDS_Generator_GenerateProjectClassCommand (buffer, buffer size, [Command args...])</p>
<p>These functions returns an <a class="el" href="ARCOMMANDS__Generator_8h.html#a76833abd010a46f23cbf58184a0b739f">eARCOMMANDS_GENERATOR_ERROR</a> indicating if the generation encountered an error (typically <a class="el" href="ARCOMMANDS__Generator_8h.html#a76833abd010a46f23cbf58184a0b739fa435062d59efadaeeabd40009e7f4baa4">ARCOMMANDS_GENERATOR_ERROR_NOT_ENOUGH_SPACE</a>)</p>
<p>These functions are defined in <a class="el" href="ARCOMMANDS__Generator_8h.html">ARCOMMANDS_Generator.h</a></p>
<p>As the library is autogenerated, a specific function is generated for each command, assuring a compile-time type-checking of the arguments.</p>
<h1><a class="anchor" id="ARC_dec_sec"></a>
Decode encoded commands</h1>
<p>To decode a command, the application must first register a callback for this command, then actually decode the buffer</p>
<p>All the decoder-related functions and types are declared in the <a class="el" href="ARCOMMANDS__Decoder_8h.html">ARCOMMANDS_Decoder.h</a> file.</p>
<h2><a class="anchor" id="ARC_dec_register_subsec"></a>
Register decode callbacks</h2>
<p>Before decoding a command, the application needs to register callbacks for these commands. Each command can have only one callback (if a second one is set, the first one will be removed). Each command has its own callback type.</p>
<p>To register a callback for a specific command, use the functions ARCOMMANDS_Decoder_SetProjectClassCommandCallback.</p>
<p>As registered callbacks are static, they will persist during the application lifecycle. The typical use case is to have a startup code registering all needed callbacks.</p>
<h2><a class="anchor" id="ARC_dec_dec_subsec"></a>
Decode call</h2>
<p>To decode a command, symply pass its buffer (and the buffer used length) to the <a class="el" href="ARCOMMANDS__Decoder_8h.html#a3fc2fe188e0ba34907c25b25d7d4eb3b">ARCOMMANDS_Decoder_DecodeBuffer</a> function. This function will call the commands callback in its current thread, with the decoded command parameters.</p>
<p>The <a class="el" href="ARCOMMANDS__Decoder_8h.html#a3fc2fe188e0ba34907c25b25d7d4eb3b">ARCOMMANDS_Decoder_DecodeBuffer</a> function can also return various error codes for bad buffers, or commands without any callback set</p>
<h1><a class="anchor" id="ARC_tostring_sec"></a>
Debug and toString function</h1>
<p>As commands are encoded, the binary content of the encoded buffer is not human readable. To allow human debug of the commands, the decoder submodule provides the <a class="el" href="ARCOMMANDS__Decoder_8h.html#ab66c3f4764cdc3eb414a31951064b51b">ARCOMMANDS_Decoder_DescribeBuffer</a> function, acting like a java 'toString' method (except that the string buffer must be passed as an argument).</p>
<p>This function can be used either on the sending side (right after encoding, to check if the encoded command is the good one), or on the receiving side (just before decoding, to check all the commands contents, even the ones without callback set)</p>
<p>As the <a class="el" href="ARCOMMANDS__Decoder_8h.html#a3fc2fe188e0ba34907c25b25d7d4eb3b">ARCOMMANDS_Decoder_DecodeBuffer</a> function, this function might fail if the buffer does not contains a valid command, or if the result string buffer is too small to contain the command description </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Aug 6 2015 16:17:49 for libARCommands by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
